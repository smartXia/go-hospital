/*! 
 Build based on BAIDU 
 Time : 1716207707000 */
import{a as e,o as a,c as l,b as t,d as o,w as s,f as r,F as i,df as p,j as u,R as d,E as m,I as n,k as c}from"./087AC4D233B64EB0index.5fcd1422.js";import{E as B}from"./087AC4D233B64EB0drawer.6a894563.js";import"./087AC4D233B64EB0overlay.1520877c.js";import{a as f,E as g}from"./087AC4D233B64EB0form-item.69b26929.js";/* empty css                              */import{E as b,a as C}from"./087AC4D233B64EB0table-column.de1f83f6.js";import"./087AC4D233B64EB0checkbox.2864820c.js";/* empty css                                *//* empty css                               */import"./087AC4D233B64EB0scrollbar.b45aa0d9.js";/* empty css                            *//* empty css                               */import{i as E,d as j,j as v}from"./087AC4D233B64EB0autoCode.61f04816.js";import{_ as A}from"./087AC4D233B64EB0warningBar.a4d9a0b0.js";import"./087AC4D233B64EB0index.71b3c6ca.js";import"./087AC4D233B64EB0castArray.ef7e3470.js";import"./087AC4D233B64EB0_baseClone.bd09a709.js";import"./087AC4D233B64EB0_Uint8Array.72188c2c.js";import"./087AC4D233B64EB0_initCloneObject.67d0c1fc.js";import"./087AC4D233B64EB0_baseIteratee.bf25bc12.js";import"./087AC4D233B64EB0isEqual.c192b418.js";import"./087AC4D233B64EB0debounce.679d5750.js";import"./087AC4D233B64EB0index.508774e7.js";const D={class:"gva-table-box"},k={class:"gva-btn-list gap-3 flex items-center"},_={class:"flex justify-between items-center"},y=t("span",{class:"text-lg"},"创建Package",-1),w=Object.assign({name:"AutoPkg"},{__name:"autoPkg",setup(w){const h=e({packageName:"",label:"",desc:""}),x=e({packageName:[{required:!0,message:"请输入包名",trigger:"blur"},{validator:(e,a,l)=>{/^\d+$/.test(a[0])?l(new Error("不能够以数字开头")):l()},trigger:"blur"}]}),V=e(!1),N=()=>{V.value=!1,h.value={packageName:"",label:"",desc:""}},U=e(null),P=async()=>{U.value.validate((async e=>{if(e){0===(await E(h.value)).code&&u({type:"success",message:"添加成功",showClose:!0}),I(),N()}}))},q=e([]),I=async()=>{const e=await j();0===e.code&&(q.value=e.data.pkgs)};return I(),(e,E)=>{const j=m,w=n,F=b,O=C,T=c,z=f,R=g,Y=B;return a(),l("div",null,[t("div",D,[t("div",k,[o(j,{type:"primary",icon:"plus",onClick:E[0]||(E[0]=e=>{V.value=!0})},{default:s((()=>[r("新增")])),_:1}),o(w,{class:"cursor-pointer"},{default:s((()=>[o(i(p))])),_:1})]),o(O,{data:q.value},{default:s((()=>[o(F,{align:"left",label:"id",width:"60",prop:"ID"}),o(F,{align:"left",label:"包名",width:"150",prop:"packageName"}),o(F,{align:"left",label:"展示名",width:"150",prop:"label"}),o(F,{align:"left",label:"描述","min-width":"150",prop:"desc"}),o(F,{align:"left",label:"操作",width:"200"},{default:s((e=>[o(j,{icon:"delete",type:"primary",link:"",onClick:a=>(async e=>{d.confirm("此操作仅删除数据库中的pkg存储，后端相应目录结构请自行删除与数据库保持一致！","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{0===(await v(e)).code&&(u({type:"success",message:"删除成功!"}),I())}))})(e.row)},{default:s((()=>[r("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]),o(Y,{modelValue:V.value,"onUpdate:modelValue":E[4]||(E[4]=e=>V.value=e),size:"40%","show-close":!1},{header:s((()=>[t("div",_,[y,t("div",null,[o(j,{onClick:N},{default:s((()=>[r("取 消")])),_:1}),o(j,{type:"primary",onClick:P},{default:s((()=>[r("确 定")])),_:1})])])])),default:s((()=>[o(A,{title:"新增Pkg用于自动化代码使用"}),o(R,{ref_key:"pkgForm",ref:U,model:h.value,rules:x.value,"label-width":"80px"},{default:s((()=>[o(z,{label:"包名",prop:"packageName"},{default:s((()=>[o(T,{modelValue:h.value.packageName,"onUpdate:modelValue":E[1]||(E[1]=e=>h.value.packageName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),o(z,{label:"展示名",prop:"label"},{default:s((()=>[o(T,{modelValue:h.value.label,"onUpdate:modelValue":E[2]||(E[2]=e=>h.value.label=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),o(z,{label:"描述",prop:"desc"},{default:s((()=>[o(T,{modelValue:h.value.desc,"onUpdate:modelValue":E[3]||(E[3]=e=>h.value.desc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}});export{w as default};
