/*! 
 Build based on BAIDU 
 Time : 1716207707000 */
import{a as e,P as a,o as t,c as l,d as s,b as r,w as o,f as i,N as u,O as d,n,t as c,a5 as p,F as m,dr as B,ds as v,dt as y,R as D,du as C,j as f,dv as b,dw as E,E as j,I as g,k as x}from"./087AC4D233B64EB0index.5fcd1422.js";import{E as A}from"./087AC4D233B64EB0dialog.e17c90b5.js";import"./087AC4D233B64EB0overlay.1520877c.js";import{a as w,E as k}from"./087AC4D233B64EB0form-item.69b26929.js";import{E as _}from"./087AC4D233B64EB0switch.5175e219.js";/* empty css                              */import{E as h}from"./087AC4D233B64EB0scrollbar.b45aa0d9.js";/* empty css                               */import{_ as V}from"./087AC4D233B64EB0warningBar.a4d9a0b0.js";import I from"./087AC4D233B64EB0sysDictionaryDetail.8dd8f679.js";import"./087AC4D233B64EB0index.71b3c6ca.js";import"./087AC4D233B64EB0castArray.ef7e3470.js";import"./087AC4D233B64EB0_baseClone.bd09a709.js";import"./087AC4D233B64EB0_Uint8Array.72188c2c.js";import"./087AC4D233B64EB0_initCloneObject.67d0c1fc.js";import"./087AC4D233B64EB0input-number.f5afd020.js";import"./087AC4D233B64EB0index.c25afd12.js";import"./087AC4D233B64EB0pagination.81705c9f.js";import"./087AC4D233B64EB0select.591b7648.js";import"./087AC4D233B64EB0index.d064f019.js";import"./087AC4D233B64EB0strings.84714f21.js";import"./087AC4D233B64EB0isEqual.c192b418.js";import"./087AC4D233B64EB0debounce.679d5750.js";import"./087AC4D233B64EB0_baseIteratee.bf25bc12.js";import"./087AC4D233B64EB0index.508774e7.js";/* empty css                            *//* empty css                               */import"./087AC4D233B64EB0table-column.de1f83f6.js";import"./087AC4D233B64EB0checkbox.2864820c.js";/* empty css                                */const q={class:"flex gap-4 p-2"},U={class:"flex-none w-52 bg-white text-slate-700 dark:text-slate-400 dark:bg-slate-900 rounded p-4"},O={class:"flex justify-between items-center"},F=r("span",{class:"text font-bold"},"字典列表",-1),T=["onClick"],L={class:"max-w-[160px] truncate"},M={class:"min-w-[40px]"},N={class:"flex-1 bg-white text-slate-700 dark:text-slate-400 dark:bg-slate-900"},P={class:"dialog-footer"},R=Object.assign({name:"SysDictionary"},{__name:"sysDictionary",setup(R){const S=e(1),z=e({name:null,type:null,status:!0,desc:null}),G=e({name:[{required:!0,message:"请输入字典名（中）",trigger:"blur"}],type:[{required:!0,message:"请输入字典名（英）",trigger:"blur"}],desc:[{required:!0,message:"请输入描述",trigger:"blur"}]}),H=e([]),J=async()=>{const e=await v();0===e.code&&(H.value=e.data)};J();const K=e(!1),Q=e(""),W=()=>{K.value=!1,z.value={name:null,type:null,status:!0,desc:null}},X=e(null),Y=async()=>{X.value.validate((async e=>{if(!e)return;let a;switch(Q.value){case"create":default:a=await b(z.value);break;case"update":a=await E(z.value)}0===a.code&&(f.success("操作成功"),W(),J())}))},Z=()=>{Q.value="create",K.value=!0};return(e,v)=>{const b=j,E=g,R=a("Delete"),$=h,ee=x,ae=w,te=_,le=k,se=A;return t(),l("div",null,[s(V,{title:"获取字典且缓存方法已在前端utils/dictionary 已经封装完成 不必自己书写 使用方法查看文件内注释"}),r("div",q,[r("div",U,[r("div",O,[F,s(b,{type:"primary",onClick:Z},{default:o((()=>[i(" 新增 ")])),_:1})]),s($,{class:"mt-4",style:{height:"calc(100vh - 300px)"}},{default:o((()=>[(t(!0),l(u,null,d(H.value,(e=>(t(),l("div",{key:e.ID,class:n(["rounded flex justify-between items-center px-2 py-4 cursor-pointer mt-2 hover:bg-blue-50 dark:hover:bg-blue-900 bg-gray-50 dark:bg-gray-800 gap-4",S.value===e.ID?"text-active":"text-slate-700 dark:text-slate-50"]),onClick:a=>{return t=e,void(S.value=t.ID);var t}},[r("span",L,c(e.name),1),r("div",M,[s(E,{class:"text-blue-500",onClick:p((a=>(async e=>{const a=await y({ID:e.ID,status:e.status});Q.value="update",0===a.code&&(z.value=a.data.resysDictionary,K.value=!0)})(e)),["stop"])},{default:o((()=>[s(m(B))])),_:2},1032,["onClick"]),s(E,{class:"ml-2 text-red-500",onClick:a=>(async e=>{D.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{0===(await C({ID:e.ID})).code&&(f({type:"success",message:"删除成功"}),J())}))})(e)},{default:o((()=>[s(R)])),_:2},1032,["onClick"])])],10,T)))),128))])),_:1})]),r("div",N,[s(I,{"sys-dictionary-i-d":S.value},null,8,["sys-dictionary-i-d"])])]),s(se,{modelValue:K.value,"onUpdate:modelValue":v[4]||(v[4]=e=>K.value=e),"before-close":W,title:"create"===Q.value?"添加字典":"修改字典"},{footer:o((()=>[r("div",P,[s(b,{onClick:W},{default:o((()=>[i("取 消")])),_:1}),s(b,{type:"primary",onClick:Y},{default:o((()=>[i("确 定")])),_:1})])])),default:o((()=>[s(le,{ref_key:"dialogForm",ref:X,model:z.value,rules:G.value,"label-width":"110px"},{default:o((()=>[s(ae,{label:"字典名（中）",prop:"name"},{default:o((()=>[s(ee,{modelValue:z.value.name,"onUpdate:modelValue":v[0]||(v[0]=e=>z.value.name=e),placeholder:"请输入字典名（中）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),s(ae,{label:"字典名（英）",prop:"type"},{default:o((()=>[s(ee,{modelValue:z.value.type,"onUpdate:modelValue":v[1]||(v[1]=e=>z.value.type=e),placeholder:"请输入字典名（英）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),s(ae,{label:"状态",prop:"status",required:""},{default:o((()=>[s(te,{modelValue:z.value.status,"onUpdate:modelValue":v[2]||(v[2]=e=>z.value.status=e),"active-text":"开启","inactive-text":"停用"},null,8,["modelValue"])])),_:1}),s(ae,{label:"描述",prop:"desc"},{default:o((()=>[s(ee,{modelValue:z.value.desc,"onUpdate:modelValue":v[3]||(v[3]=e=>z.value.desc=e),placeholder:"请输入描述",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}});export{R as default};
