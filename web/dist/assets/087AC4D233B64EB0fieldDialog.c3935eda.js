/*! 
 Build based on BAIDU 
 Time : 1716207707000 */
import{a as e,o as l,c as a,d as u,w as o,N as d,O as t,g as r,b as m,ds as i,k as p,E as s}from"./087AC4D233B64EB0index.5fcd1422.js";import{E as n,a as f}from"./087AC4D233B64EB0collapse-item.a5a09b8c.js";import{E as c,a as v}from"./087AC4D233B64EB0col.cbfc45c3.js";import{a as V,E as b}from"./087AC4D233B64EB0form-item.69b26929.js";import{E as B}from"./087AC4D233B64EB0switch.5175e219.js";import{E as y}from"./087AC4D233B64EB0checkbox.2864820c.js";/* empty css                              *//* empty css                            */import{E,a as g}from"./087AC4D233B64EB0select.591b7648.js";import"./087AC4D233B64EB0scrollbar.b45aa0d9.js";/* empty css                               *//* empty css                               */import{a as _,t as D}from"./087AC4D233B64EB0stringFun.647a78e9.js";import{_ as j}from"./087AC4D233B64EB0warningBar.a4d9a0b0.js";import"./087AC4D233B64EB0castArray.ef7e3470.js";import"./087AC4D233B64EB0index.fc2f110f.js";import"./087AC4D233B64EB0_baseClone.bd09a709.js";import"./087AC4D233B64EB0_Uint8Array.72188c2c.js";import"./087AC4D233B64EB0_initCloneObject.67d0c1fc.js";import"./087AC4D233B64EB0isEqual.c192b418.js";import"./087AC4D233B64EB0index.71b3c6ca.js";import"./087AC4D233B64EB0index.d064f019.js";import"./087AC4D233B64EB0strings.84714f21.js";import"./087AC4D233B64EB0debounce.679d5750.js";import"./087AC4D233B64EB0_baseIteratee.bf25bc12.js";import"./087AC4D233B64EB0index.508774e7.js";const A=m("span",{style:{"font-size":"12px"}},"自动填充",-1),C=Object.assign({name:"FieldDialog"},{__name:"fieldDialog",props:{dialogMiddle:{type:Object,default:function(){return{}}},typeOptions:{type:Array,default:function(){return[]}},typeSearchOptions:{type:Array,default:function(){return[]}}},setup(m,{expose:C}){const h=m,T=e([]),U=e({}),N=e([]),S=e({fieldName:[{required:!0,message:"请输入字段英文名",trigger:"blur"}],fieldDesc:[{required:!0,message:"请输入字段中文名",trigger:"blur"}],fieldJson:[{required:!0,message:"请输入字段格式化json",trigger:"blur"}],columnName:[{required:!0,message:"请输入数据库字段",trigger:"blur"}],fieldType:[{required:!0,message:"请选择字段类型",trigger:"blur"}]});(async()=>{U.value=h.dialogMiddle;const e=await i({page:1,pageSize:999999});N.value=e.data})();const x=()=>{U.value.fieldJson=_(U.value.fieldName),U.value.columnName=D(U.value.fieldJson)},w=e=>{const l=U.value.fieldType;return"string"!==l&&"LIKE"===e||"int"!==l&&"time.Time"!==l&&"float64"!==l&&("BETWEEN"===e||"NOT BETWEEN"===e)},O=()=>{U.value.fieldSearchType="",U.value.dictType=""},q=e(null);return C({fieldDialogFrom:q}),(e,i)=>{const _=p,D=s,C=V,h=E,k=g,J=y,K=B,L=b,F=c,I=v,M=n,z=f;return l(),a("div",null,[u(j,{title:"id , created_at , updated_at , deleted_at 会自动生成请勿重复创建。搜索时如果条件为LIKE只支持字符串"}),u(L,{ref_key:"fieldDialogFrom",ref:q,model:U.value,"label-width":"120px","label-position":"right",rules:S.value,class:"grid grid-cols-2"},{default:o((()=>[u(C,{label:"字段名称",prop:"fieldName"},{default:o((()=>[u(_,{modelValue:U.value.fieldName,"onUpdate:modelValue":i[0]||(i[0]=e=>U.value.fieldName=e),autocomplete:"off",style:{width:"80%"}},null,8,["modelValue"]),u(D,{style:{width:"18%","margin-left":"2%"},onClick:x},{default:o((()=>[A])),_:1})])),_:1}),u(C,{label:"字段中文名",prop:"fieldDesc"},{default:o((()=>[u(_,{modelValue:U.value.fieldDesc,"onUpdate:modelValue":i[1]||(i[1]=e=>U.value.fieldDesc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(C,{label:"字段JSON",prop:"fieldJson"},{default:o((()=>[u(_,{modelValue:U.value.fieldJson,"onUpdate:modelValue":i[2]||(i[2]=e=>U.value.fieldJson=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(C,{label:"数据库字段名",prop:"columnName"},{default:o((()=>[u(_,{modelValue:U.value.columnName,"onUpdate:modelValue":i[3]||(i[3]=e=>U.value.columnName=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(C,{label:"数据库字段描述",prop:"comment"},{default:o((()=>[u(_,{modelValue:U.value.comment,"onUpdate:modelValue":i[4]||(i[4]=e=>U.value.comment=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(C,{label:"字段类型",prop:"fieldType"},{default:o((()=>[u(k,{modelValue:U.value.fieldType,"onUpdate:modelValue":i[5]||(i[5]=e=>U.value.fieldType=e),style:{width:"100%"},placeholder:"请选择字段类型",clearable:"",onChange:O},{default:o((()=>[(l(!0),a(d,null,t(m.typeOptions,(e=>(l(),r(h,{key:e.value,label:e.label,value:e.value,disabled:e.disabled},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1}),u(C,{label:"enum"===U.value.fieldType?"枚举值":"类型长度",prop:"dataTypeLong"},{default:o((()=>[u(_,{modelValue:U.value.dataTypeLong,"onUpdate:modelValue":i[6]||(i[6]=e=>U.value.dataTypeLong=e),placeholder:"enum"===U.value.fieldType?"例:'北京','天津'":"数据库类型长度"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),u(C,{label:"字段查询条件",prop:"fieldSearchType"},{default:o((()=>[u(k,{modelValue:U.value.fieldSearchType,"onUpdate:modelValue":i[7]||(i[7]=e=>U.value.fieldSearchType=e),disabled:"json"===U.value.fieldType,style:{width:"100%"},placeholder:"请选择字段查询条件",clearable:""},{default:o((()=>[(l(!0),a(d,null,t(m.typeSearchOptions,(e=>(l(),r(h,{key:e.value,label:e.label,value:e.value,disabled:w(e.value)},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1}),u(C,{label:"关联字典",prop:"dictType"},{default:o((()=>[u(k,{modelValue:U.value.dictType,"onUpdate:modelValue":i[8]||(i[8]=e=>U.value.dictType=e),style:{width:"100%"},disabled:"string"!==U.value.fieldType,placeholder:"请选择字典",clearable:""},{default:o((()=>[(l(!0),a(d,null,t(N.value,(e=>(l(),r(h,{key:e.type,label:"".concat(e.type,"(").concat(e.name,")"),value:e.type},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1}),u(C,{label:"默认值"},{default:o((()=>[u(_,{modelValue:U.value.defaultValue,"onUpdate:modelValue":i[9]||(i[9]=e=>U.value.defaultValue=e),placeholder:"请输入默认值"},null,8,["modelValue"])])),_:1}),u(C,{label:"主键"},{default:o((()=>[u(J,{modelValue:U.value.primaryKey,"onUpdate:modelValue":i[10]||(i[10]=e=>U.value.primaryKey=e)},null,8,["modelValue"])])),_:1}),u(C,{label:"前端可见"},{default:o((()=>[u(K,{modelValue:U.value.front,"onUpdate:modelValue":i[11]||(i[11]=e=>U.value.front=e)},null,8,["modelValue"])])),_:1}),u(C,{label:"是否排序"},{default:o((()=>[u(K,{modelValue:U.value.sort,"onUpdate:modelValue":i[12]||(i[12]=e=>U.value.sort=e)},null,8,["modelValue"])])),_:1}),u(C,{label:"是否必填"},{default:o((()=>[u(K,{modelValue:U.value.require,"onUpdate:modelValue":i[13]||(i[13]=e=>U.value.require=e)},null,8,["modelValue"])])),_:1}),u(C,{label:"是否可清空"},{default:o((()=>[u(K,{modelValue:U.value.clearable,"onUpdate:modelValue":i[14]||(i[14]=e=>U.value.clearable=e)},null,8,["modelValue"])])),_:1}),u(C,{label:"校验失败文案"},{default:o((()=>[u(_,{modelValue:U.value.errorText,"onUpdate:modelValue":i[15]||(i[15]=e=>U.value.errorText=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"]),u(z,{modelValue:T.value,"onUpdate:modelValue":i[19]||(i[19]=e=>T.value=e)},{default:o((()=>[u(M,{title:"数据源配置（此配置为高级配置，如编程基础不牢，可能导致自动化代码不可用）",name:"1"},{default:o((()=>[u(I,{gutter:8},{default:o((()=>[u(F,{span:8},{default:o((()=>[u(_,{modelValue:U.value.dataSource.table,"onUpdate:modelValue":i[16]||(i[16]=e=>U.value.dataSource.table=e),placeholder:"数据源表"},null,8,["modelValue"])])),_:1}),u(F,{span:8},{default:o((()=>[u(_,{modelValue:U.value.dataSource.label,"onUpdate:modelValue":i[17]||(i[17]=e=>U.value.dataSource.label=e),placeholder:"展示用字段"},null,8,["modelValue"])])),_:1}),u(F,{span:8},{default:o((()=>[u(_,{modelValue:U.value.dataSource.value,"onUpdate:modelValue":i[18]||(i[18]=e=>U.value.dataSource.value=e),placeholder:"存储用字端"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}}});export{C as default};
